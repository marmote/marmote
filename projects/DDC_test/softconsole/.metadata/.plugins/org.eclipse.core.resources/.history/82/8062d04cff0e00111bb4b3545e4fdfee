/*
 * io_ports.c
 *
 *  Created on: Nov 14, 2011
 *      Author: babjak
 */

void send_SPI(uint32_t data, uint8_t data_size)
{
/*
	GPIO_SCLK
	GPIO_SEN_RX
	GPIO_SDI
*/

	uint8_t i;

	ResetFlag(GPIO_OUTPUT, GPIO_SEN_RX);

	for (i = 0; i < data_size; i++)
	{
		ResetFlag(GPIO_OUTPUT, GPIO_SCLK);

		SetFlagVal(GPIO_OUTPUT, GPIO_SDI, ((data << i) & 0x800000) ? 1 : 0);

		SetFlag(GPIO_OUTPUT, GPIO_SCLK);
	}

	SetFlag(GPIO_OUTPUT, GPIO_SEN_RX);

}
