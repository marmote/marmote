Version 4
SHEET 1 1644 1188
WIRE -432 128 -1232 128
WIRE 96 128 -256 128
WIRE 208 128 192 128
WIRE 320 128 288 128
WIRE 576 128 320 128
WIRE 320 192 320 128
WIRE 576 192 576 128
WIRE -432 208 -432 128
WIRE -256 208 -256 128
WIRE -1232 224 -1232 128
WIRE 176 336 176 176
WIRE 320 336 320 256
WIRE 320 336 176 336
WIRE 576 336 576 272
WIRE 576 336 320 336
WIRE -432 368 -432 288
WIRE -256 368 -256 288
WIRE -1232 384 -1232 304
WIRE 576 384 576 336
WIRE 96 464 -256 464
WIRE 208 464 192 464
WIRE 576 464 288 464
WIRE 1104 464 752 464
WIRE 1216 464 1200 464
WIRE 1328 464 1296 464
WIRE 1584 464 1328 464
WIRE -784 496 -1232 496
WIRE -656 496 -704 496
WIRE -416 496 -656 496
WIRE 1328 512 1328 464
WIRE 576 544 576 464
WIRE 752 544 752 464
WIRE 1184 544 1184 512
WIRE 1184 544 1168 544
WIRE 1584 544 1584 464
WIRE -1232 560 -1232 496
WIRE -416 560 -416 496
WIRE -256 560 -256 464
WIRE -656 576 -656 496
WIRE 1184 576 1184 544
WIRE 1328 576 1184 576
WIRE 1168 608 1168 544
WIRE 1184 608 1168 608
WIRE 176 688 176 512
WIRE 576 688 576 624
WIRE 576 688 176 688
WIRE 752 688 752 624
WIRE -656 704 -656 640
WIRE -416 704 -416 640
WIRE -416 704 -656 704
WIRE -1232 720 -1232 640
WIRE 1184 720 1184 688
WIRE 1584 720 1584 624
WIRE 1584 720 1184 720
WIRE -256 736 -256 640
WIRE 576 736 576 688
WIRE -416 752 -416 704
WIRE 1584 784 1584 720
WIRE 0 0 0 0
FLAG -256 368 0
FLAG -416 752 0
FLAG 576 384 0
FLAG 576 736 0
FLAG 1584 784 0
FLAG 752 688 0
FLAG -256 736 0
FLAG -1232 720 0
FLAG -432 368 0
FLAG -1232 384 0
SYMBOL pmos 96 176 R270
SYMATTR InstName M1
SYMATTR Value Si7540DP_P
SYMBOL pmos 96 512 R270
SYMATTR InstName M2
SYMATTR Value Si7540DP_P
SYMBOL zener 336 256 R180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D1
SYMATTR Value BZX84C6V2L
SYMBOL zener -640 640 R180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D2
SYMATTR Value BZX84C6V2L
SYMBOL res -432 544 R0
SYMATTR InstName R1
SYMATTR Value {R}
SYMBOL res 560 176 R0
SYMATTR InstName R2
SYMATTR Value {R}
SYMBOL res 560 528 R0
SYMATTR InstName R3
SYMATTR Value {R}
SYMBOL voltage -1232 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 132 Left 0
SYMATTR SpiceLine Rser={Rser}
SYMATTR InstName V1
SYMATTR Value {VDC}
SYMBOL pmos 1104 512 R270
SYMATTR InstName M3
SYMATTR Value Si7540DP_P
SYMBOL zener 1344 576 R180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D3
SYMATTR Value BZX84C6V2L
SYMBOL res 1168 592 R0
SYMATTR InstName R4
SYMATTR Value 500k
SYMBOL res 1568 528 R0
SYMATTR InstName R5
SYMATTR Value {R}
SYMBOL res 1312 448 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R6
SYMATTR Value {Rsense}
SYMBOL res 304 112 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R7
SYMATTR Value {Rsense}
SYMBOL res 304 448 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R8
SYMATTR Value {Rsense}
SYMBOL voltage -256 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 132 Left 0
SYMATTR SpiceLine Rser={Rser}
SYMATTR InstName V2
SYMATTR Value {VDC}
SYMBOL voltage -256 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 132 Left 0
SYMATTR SpiceLine Rser={Rser}
SYMATTR InstName V3
SYMATTR Value {VDC}
SYMBOL voltage 752 528 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 132 Left 0
SYMATTR SpiceLine Rser={Rser}
SYMATTR InstName V4
SYMATTR Value {VDC}
SYMBOL res -688 480 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R9
SYMATTR Value {Rsense}
SYMBOL voltage -1232 208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 132 Left 0
SYMATTR SpiceLine Rser={Rser}
SYMATTR InstName V5
SYMATTR Value {VDC}
SYMBOL res -448 192 R0
SYMATTR InstName R10
SYMATTR Value {R}
TEXT 856 136 Left 0 !.op
TEXT 856 -8 Left 0 !.param R 100\n.param Von -5\n.param Rser 100m\n.param Rsense 1u
TEXT 856 240 Left 0 !.step param VDC -25 25 1
