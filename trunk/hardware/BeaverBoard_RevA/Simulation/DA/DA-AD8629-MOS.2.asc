Version 4
SHEET 1 1456 1156
WIRE 272 -64 192 -64
WIRE -368 -16 -496 -16
WIRE -176 -16 -304 -16
WIRE 112 -16 16 -16
WIRE -1872 16 -2176 16
WIRE -1840 16 -1872 16
WIRE -1728 16 -1760 16
WIRE -1696 16 -1728 16
WIRE -1584 16 -1616 16
WIRE -1552 16 -1584 16
WIRE -1456 16 -1472 16
WIRE -1344 16 -1456 16
WIRE 112 16 112 -16
WIRE 192 16 112 16
WIRE -2176 48 -2176 16
WIRE -1872 48 -1872 16
WIRE -1728 48 -1728 16
WIRE -1584 48 -1584 16
WIRE -1456 48 -1456 16
WIRE -1344 48 -1344 16
WIRE 16 48 16 -16
WIRE 32 48 16 48
WIRE -1184 64 -1232 64
WIRE 144 64 96 64
WIRE -800 80 -1040 80
WIRE -640 80 -720 80
WIRE -592 80 -640 80
WIRE -496 80 -496 -16
WIRE -496 80 -512 80
WIRE -480 80 -496 80
WIRE -176 80 -176 -16
WIRE -176 80 -400 80
WIRE 32 80 -176 80
WIRE 368 112 192 112
WIRE 592 112 592 80
WIRE 592 112 448 112
WIRE 736 112 592 112
WIRE 928 112 736 112
WIRE 960 112 928 112
WIRE 1056 112 1040 112
WIRE 1184 112 1056 112
WIRE -400 128 -416 128
WIRE -416 144 -416 128
WIRE 48 144 48 112
WIRE 64 144 48 144
WIRE -2176 160 -2176 128
WIRE 272 160 192 160
WIRE -1888 176 -1952 176
WIRE -1872 176 -1872 128
WIRE -1872 176 -1888 176
WIRE -1728 176 -1728 128
WIRE -1728 176 -1792 176
WIRE -1584 176 -1584 128
WIRE -1584 176 -1632 176
WIRE -1568 176 -1584 176
WIRE -1456 176 -1456 128
WIRE -1456 176 -1472 176
WIRE -1408 176 -1456 176
WIRE -496 176 -496 80
WIRE -432 176 -496 176
WIRE -176 176 -176 80
WIRE -176 176 -384 176
WIRE 1184 176 1184 112
WIRE -640 192 -640 160
WIRE -432 192 -512 192
WIRE 928 192 928 112
WIRE 1056 192 1056 112
WIRE -432 208 -496 208
WIRE -176 208 -384 208
WIRE 112 208 16 208
WIRE 736 224 736 192
WIRE 768 224 736 224
WIRE 864 224 848 224
WIRE -400 240 -416 240
WIRE 112 240 112 208
WIRE 192 240 112 240
WIRE 864 240 864 224
WIRE -400 256 -400 240
WIRE 736 256 736 224
WIRE -1952 272 -1952 256
WIRE -1792 272 -1792 256
WIRE -1792 272 -1952 272
WIRE -1632 272 -1632 256
WIRE -1632 272 -1792 272
WIRE -1472 272 -1472 256
WIRE -1472 272 -1632 272
WIRE -1232 272 -1232 64
WIRE -1232 272 -1472 272
WIRE -1040 272 -1040 80
WIRE -1040 272 -1232 272
WIRE 16 272 16 208
WIRE 32 272 16 272
WIRE 144 288 96 288
WIRE -1888 304 -1888 256
WIRE -1888 304 -1952 304
WIRE -1728 304 -1728 256
WIRE -1728 304 -1888 304
WIRE -1568 304 -1568 256
WIRE -1568 304 -1728 304
WIRE -1408 304 -1408 256
WIRE -1408 304 -1568 304
WIRE -800 304 -1408 304
WIRE -640 304 -720 304
WIRE -592 304 -640 304
WIRE -496 304 -496 208
WIRE -496 304 -512 304
WIRE -480 304 -496 304
WIRE -176 304 -176 208
WIRE -176 304 -400 304
WIRE 32 304 -176 304
WIRE 368 336 192 336
WIRE 592 336 448 336
WIRE 736 336 592 336
WIRE 928 336 928 256
WIRE 928 336 736 336
WIRE 960 336 928 336
WIRE 1056 336 1056 256
WIRE 1056 336 1040 336
WIRE 1184 336 1184 256
WIRE 1184 336 1056 336
WIRE 48 368 48 336
WIRE 64 368 48 368
WIRE 592 368 592 336
WIRE -496 400 -496 304
WIRE -368 400 -496 400
WIRE -176 400 -176 304
WIRE -176 400 -304 400
WIRE -640 416 -640 384
WIRE 240 544 192 544
WIRE 384 544 240 544
WIRE 192 560 192 544
WIRE 288 640 192 640
WIRE 384 640 384 624
WIRE 448 640 384 640
WIRE 288 720 288 704
WIRE 288 720 192 720
WIRE 192 752 192 720
WIRE 384 752 384 720
FLAG -640 192 0
FLAG 592 368 IOUTN_A
IOPIN 592 368 Out
FLAG 592 80 IOUTP_A
IOPIN 592 80 Out
FLAG -2176 160 0
FLAG 240 544 AVDD1
FLAG 448 640 0
FLAG -400 128 AVDD1
FLAG -400 256 0
FLAG 192 752 0
FLAG -96 640 V_BIAS
FLAG -512 192 V_BIAS
FLAG -640 416 0
FLAG -1344 128 0
FLAG 384 752 AVDD1N
FLAG 864 240 0
FLAG 272 -64 AVDD1
FLAG 272 160 AVDD1
FLAG -96 720 0
FLAG 48 16 0
FLAG 48 240 0
FLAG 64 144 AVDD1
FLAG 64 368 AVDD1
FLAG -288 640 AVDD2
FLAG -288 720 0
SYMBOL res -496 64 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R30
SYMATTR Value {R1}
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -624 176 R180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R9
SYMATTR Value {R0}
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -384 288 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R34
SYMATTR Value {R2}
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -384 64 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R31
SYMATTR Value {R2}
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL voltage -2176 32 R0
WINDOW 123 24 132 Left 0
WINDOW 39 24 132 Left 0
SYMATTR Value2 AC 1.65 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL voltage 384 528 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 43 48 Left 0
SYMATTR InstName V3_3
SYMATTR Value 3.3
SYMBOL res 176 544 R0
SYMATTR InstName R6
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 176 624 R0
SYMATTR InstName R7
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap 272 640 R0
SYMATTR InstName C24
SYMATTR Value 0.1
SYMBOL cap -304 -32 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C2
SYMATTR Value {C}
SYMBOL cap -304 416 M270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C5
SYMATTR Value {C}
SYMBOL res -496 288 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R3
SYMATTR Value {R1}
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -1888 32 R0
SYMATTR InstName R4
SYMATTR Value {2*R}
SYMBOL res -1744 32 R0
SYMATTR InstName R5
SYMATTR Value {2*R}
SYMBOL res -1600 32 R0
SYMATTR InstName R8
SYMATTR Value {2*R}
SYMBOL res -1472 32 R0
SYMATTR InstName R10
SYMATTR Value {2*R}
SYMBOL res -1856 32 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R11
SYMATTR Value {R}
SYMBOL res -1712 32 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R12
SYMATTR Value {R}
SYMBOL res -1568 32 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R13
SYMATTR Value {R}
SYMBOL res -1360 32 R0
SYMATTR InstName R14
SYMATTR Value {2*R}
SYMBOL res -1200 80 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R15
SYMATTR Value {R}
SYMBOL ad8137 -400 192 R0
SYMATTR InstName U2
SYMBOL voltage 384 624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 3.3
SYMBOL res -624 288 M0
SYMATTR InstName R1
SYMATTR Value {R0}
SYMBOL res 720 96 R0
SYMATTR InstName R101
SYMATTR Value 49.9
SYMBOL res 720 240 R0
SYMATTR InstName R102
SYMATTR Value 49.9
SYMBOL res 752 240 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R103
SYMATTR Value 10
SYMBOL cap 912 192 R0
SYMATTR InstName C174
SYMATTR Value 66p
SYMBOL cap 1040 192 R0
SYMATTR InstName C175
SYMATTR Value 66p
SYMBOL res 1168 160 R0
SYMATTR InstName R104
SYMATTR Value 100
SYMBOL ind 1056 96 R90
WINDOW 0 5 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName L186
SYMATTR Value 620n
SYMBOL ind 1056 320 R90
WINDOW 0 5 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName L187
SYMATTR Value 620n
SYMBOL voltage -96 624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {V2}
SYMBOL res -1968 160 R0
WINDOW 3 36 76 Invisible 0
SYMATTR Value {if(bit3, 1u, 100Meg)}
SYMATTR InstName R2
SYMBOL res -1904 160 R0
WINDOW 3 36 76 Invisible 0
SYMATTR Value {if(bit3, 100Meg, 1u)}
SYMATTR InstName R16
SYMBOL res -1808 160 R0
WINDOW 3 36 76 Invisible 0
SYMATTR Value {if(bit2, 1u, 100Meg)}
SYMATTR InstName R17
SYMBOL res -1744 160 R0
WINDOW 3 36 76 Invisible 0
SYMATTR Value {if(bit2, 100Meg, 1u)}
SYMATTR InstName R18
SYMBOL res -1648 160 R0
WINDOW 3 36 76 Invisible 0
SYMATTR Value {if(bit1, 1u, 100Meg)}
SYMATTR InstName R19
SYMBOL res -1584 160 R0
WINDOW 3 36 76 Invisible 0
SYMATTR Value {if(bit1, 100Meg, 1u)}
SYMATTR InstName R20
SYMBOL res -1488 160 R0
WINDOW 3 36 76 Invisible 0
SYMATTR Value {if(bit0, 1u, 100Meg)}
SYMATTR InstName R21
SYMBOL res -1424 160 R0
WINDOW 3 36 76 Invisible 0
SYMATTR Value {if(bit0, 100Meg, 1u)}
SYMATTR InstName R22
SYMBOL res -704 64 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R23
SYMATTR Value 1
SYMBOL res -704 288 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R24
SYMATTR Value 1
SYMBOL res 176 -80 R0
SYMATTR InstName R25
SYMATTR Value {R3}
SYMBOL res 176 144 R0
SYMATTR InstName R26
SYMATTR Value {R3}
SYMBOL ad8629 64 64 M180
SYMATTR InstName U1
SYMBOL ad8629 64 288 M180
SYMATTR InstName U3
SYMBOL voltage -288 624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL res 464 96 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R27
SYMATTR Value 1
SYMBOL res 464 320 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R28
SYMATTR Value 1
SYMBOL NMOSbook 176 64 R0
SYMATTR Value irf7103q
SYMATTR InstName M1
SYMATTR Prefix X
SYMBOL NMOSbook 176 288 R0
SYMATTR Value irf7103q
SYMATTR InstName M2
SYMATTR Prefix X
TEXT -1240 -296 Left 0 !.op
TEXT 896 -120 Left 0 ;RFX400
TEXT 136 -264 Left 0 ;.param C=212.2p
TEXT 136 -232 Left 0 !.param C=0
TEXT -1424 152 Left 0 ;2^0=1
TEXT -1568 152 Left 0 ;2^1=2
TEXT -1712 152 Left 0 ;2^2=4
TEXT -1856 152 Left 0 ;2^3=8
TEXT -1320 -120 Left 0 ;DAC
TEXT -376 -96 Left 0 ;diff amp
TEXT -1504 -224 Left 0 !.param R=10k
TEXT -2240 360 Left 0 !.param val3=val\n.param bit3=floor(val3/8)\n.param val2=val3-bit3*8\n.param bit2=floor(val2/4)\n.param val1=val2-bit2*4\n.param bit1=floor(val1/2)\n.param val0=val1-bit1*2\n.param bit0=floor(val0/1)
TEXT -1584 376 Left 0 !.step param val 0 15 1
TEXT -400 -240 Left 0 !.param R2=30k
TEXT -400 -208 Left 0 ;.step param R2 20k 30k 2k
TEXT -760 -208 Left 0 ;.step param R1 140 170 10
TEXT -760 -240 Left 0 !.param R1=200
TEXT -1096 -240 Left 0 !.param R0=50
TEXT -1096 -208 Left 0 ;.step param R0 50 100 10
TEXT 712 -232 Left 0 !.include irf7103q.spi
TEXT -120 -240 Left 0 !.param R3=200
TEXT -1576 408 Left 0 ;.param val=0
TEXT 352 -224 Left 0 !.step param V2 1.8 2.2 0.1
RECTANGLE Normal -2256 800 512 -176
RECTANGLE Normal 1424 672 672 -176
RECTANGLE Normal -1072 320 -2224 -80
