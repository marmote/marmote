Version 4
SHEET 1 1228 1188
WIRE 192 -224 -256 -224
WIRE 320 -224 272 -224
WIRE 560 -224 320 -224
WIRE -256 -160 -256 -224
WIRE 560 -160 560 -224
WIRE 320 -144 320 -224
WIRE 320 -16 320 -80
WIRE 560 -16 560 -80
WIRE 560 -16 320 -16
WIRE -256 0 -256 -80
WIRE 560 32 560 -16
WIRE 96 128 -256 128
WIRE 208 128 192 128
WIRE 320 128 288 128
WIRE 576 128 320 128
WIRE 320 192 320 128
WIRE 576 192 576 128
WIRE -256 208 -256 128
WIRE 176 336 176 176
WIRE 320 336 320 256
WIRE 320 336 176 336
WIRE 576 336 576 272
WIRE 576 336 320 336
WIRE -256 368 -256 288
WIRE 576 384 576 336
WIRE 96 464 -256 464
WIRE 208 464 192 464
WIRE 576 464 288 464
WIRE 576 544 576 464
WIRE -256 560 -256 464
WIRE 176 688 176 512
WIRE 576 688 576 624
WIRE 576 688 176 688
WIRE -256 736 -256 640
WIRE 576 736 576 688
WIRE 96 848 -256 848
WIRE 208 848 192 848
WIRE 320 848 288 848
WIRE 576 848 320 848
WIRE 320 896 320 848
WIRE -256 928 -256 848
WIRE 576 928 576 848
WIRE 176 960 176 896
WIRE 176 960 144 960
WIRE 320 960 176 960
WIRE 144 992 144 960
WIRE -256 1072 -256 1008
WIRE 144 1120 144 1072
WIRE 576 1120 576 1008
WIRE 576 1120 144 1120
WIRE 576 1168 576 1120
FLAG -256 368 0
FLAG 560 32 0
FLAG 576 384 0
FLAG 576 736 0
FLAG 576 1168 0
FLAG -256 1072 0
FLAG -256 736 0
FLAG -256 0 0
SYMBOL pmos 96 176 R270
SYMATTR InstName M1
SYMATTR Value Si7540DP_P
SYMBOL pmos 96 512 R270
SYMATTR InstName M2
SYMATTR Value Si7540DP_P
SYMBOL zener 336 256 R180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D1
SYMATTR Value BZX84C6V2L
SYMBOL zener 336 -80 R180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D2
SYMATTR Value BZX84C6V2L
SYMBOL res 544 -176 R0
SYMATTR InstName R1
SYMATTR Value {R}
SYMBOL res 560 176 R0
SYMATTR InstName R2
SYMATTR Value {R}
SYMBOL res 560 528 R0
SYMATTR InstName R3
SYMATTR Value {R}
SYMBOL voltage -256 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 132 Left 0
SYMATTR SpiceLine Rser={Rser}
SYMATTR InstName V1
SYMATTR Value PULSE(0 {Von} .1u)
SYMBOL pmos 96 896 R270
SYMATTR InstName M3
SYMATTR Value Si7540DP_P
SYMBOL zener 336 960 R180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D3
SYMATTR Value BZX84C6V2L
SYMBOL res 128 976 R0
SYMATTR InstName R4
SYMATTR Value 500k
SYMBOL res 560 912 R0
SYMATTR InstName R5
SYMATTR Value {R}
SYMBOL res 304 832 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R6
SYMATTR Value {Rsense}
SYMBOL res 304 112 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R7
SYMATTR Value {Rsense}
SYMBOL res 304 448 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R8
SYMATTR Value {Rsense}
SYMBOL voltage -256 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 132 Left 0
SYMATTR SpiceLine Rser={Rser}
SYMATTR InstName V2
SYMATTR Value PULSE(0 {Von} .1u)
SYMBOL voltage -256 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 132 Left 0
SYMATTR SpiceLine Rser={Rser}
SYMATTR InstName V3
SYMATTR Value PULSE(0 {Von} .1u)
SYMBOL voltage -256 912 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 132 Left 0
SYMATTR SpiceLine Rser={Rser}
SYMATTR InstName V4
SYMATTR Value PULSE(0 {Von} .1u)
SYMBOL res 288 -240 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R9
SYMATTR Value {Rsense}
TEXT -288 696 Left 0 !.tran 0 .2u 0 1ns
TEXT 856 -8 Left 0 !.param R 500\n.param Von -25\n.param Rser 100m\n.param Rsense 1u
