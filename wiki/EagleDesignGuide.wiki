#summary EAGLE Design Guide
#labels Phase-Implementation

The Marmote project uses a multi-board platform. The printed circuit boards (PCBs) are created in [http://www.cadsoftusa.com/ CadSoft EAGLE] according the following rules:

<wiki:toc max_depth="1" />

= Directory and File Names =

== Head version ==

The PCB related directories and files are stored under `/trunk/hardware/`. Names should use CamelCase. For a project named 'PowerBoard' the main directory should be named simply `PowerBoard`, without any version number or product variation like `PowerBoard with BNC connectors`. '[[FabName]]' should refer to the corresponding fab. Thus, the directory structure should look like as follows:
{{{
PowerBoard/
  CAM/
    [FabName].cam
    [FabName].dru
    PowerBoard.Gxx   <TBD: xx>
    PowerBoard.Dxx   <TBD: xx>
    PowerBoard_RevB.xy 
    ReadMe.txt
  Datasheet/
  Document/
    PowerBoard_Sch.pdf
    PowerBoard_Asy.pdf
    PowerBoard_BOM.xlsx
  Misc/
  Photo/ 
  Simulation/
  eagle.epf
  Notes.txt
  PowerBoard.brd
  PowerBoard.lbr
  PowerBoard.sch
}}}

== Creating Revisions ==

Major revisions are stored as SVN branches under `/trunk/hardware/`. The 'ProjectName' in the directory and file names are suffixed with `_RevX`, where X is an uppercase letter. That is for a project called 'PowerBoard' that has two major revision the directory structure should follow the pattern below:
{{{
trunk/
  hardware/
    PowerBoard/
    PowerBoard_RevA/
    PowerBoard_RevB/
}}}

File names should be adjusted accordingly. That is for a project called 'PowerBoard' the directory containing Rev B:
{{{
PowerBoard_RevB/
  CAM/
    [FabName].cam
    [FabName].dru
    PowerBoard_RevB.Gxx   <TBD: xx>
    PowerBoard_RevB.Dxx   <TBD: xx>
    PowerBoard_RevB.xy (pick and place)
    ReadMe.txt
  Datasheet/
  Document/
    PowerBoard_RevB_Sch.pdf
    PowerBoard_RevB_Asy.pdf
    PowerBoard_RevB_BOM.xlsx
  Misc/
  Photo/ 
  Simulation/
  eagle.epf
  Notes.txt
  PowerBoard_RevB.brd
  PowerBoard_RevB.lbr
  PowerBoard_RevB.sch
}}}

== Directory and File Description ==

`Document` directory
|| `PowerBoard_RevB_Sch.pdf` || `File > Print`, then set printer to `Print to File (PDF)` ||
|| `PowerBoard_RevB_Asy.pdf` ||  Create a two-page (top and bottom) document with the following layers:<p>  `tPlace, tNames, tDocu, tStop, Dimension, Document`<br>  `bPlace, bNames, bDocu, bStop, Dimension, Document` ||

= Library Components =

== Package ==

  # Create new package (package names should come from the datasheet or follow standard naming, e.g. IPC)
  # Set the grid based on the pin pitch of the device
  # Set pad dimensions (the roundness can be changed later with the DRC)
  # Calculate pad center coordinates X and Y
  # Place the pads in sequence on the top layer using the console command `(X Y)`
  # In the _Options > Set > Misc_ menu select _Display pad name_
  # Make sure that the names of the pads are in order (1, 2, etc.)
  # Draw essential information (pin,,1,, designator) on tPlace using 8 mil or 4 mil thickness (Do not cover areas on the silkscreen that are to be soldered!)
  # Draw additional information on tDocu (not on silkscreen)
  # Place '>NAME' label on tNames using proportional font, 16 mil height, 8% width (will not be on silkscreen, but assembly drawing)
  # Place '>VALUE' label on tValues using vector font, 16 mil height, 8% width (will not be on silkscreen)
  # OPTIONAL layers:
    * tPlace
      # Mark pin #1 with a dot (circle)
      # Optionally draw package outline that doesn't cross metallic parts
    * tDocu (optional)
      # Chip outline
      # Pins
    * Holes:       mounting holes
    * tRestrict: define area (RECT) without tracks (copper), e.g. around mounting holes, underneath metalic components, etc.
    * tKeepout:  define area (RECT) as big as the physical component (prevent overlapping components)
  # Add description:
{{{
<b>FOOTPRINT NAME</b>
<p>
Textual description
<p>
Source: URL
}}}

Optional layers


== Symbol ==

  # Create new symbol (symbol name can be the same as device/part name)
  # Use 100 mil grid
  # Place pins: length short, visible both, function as desired
|| *Name* || *Description* || *ERC* ||
|| NC  || Not connected || A not connected pin ||
|| In || Input || A net connected to this pin and not only In pins connected to this net ||
|| Out || Output || Not only Out pins connected to the net, no Sup or OC pin at the same net ||
|| I/O || Input/output || No checks ||
|| OC  || Open Collector or Open Drain || No Out pin at the same net ||
|| Hiz || High impedance output || No checks ||
|| Pas || Passive (resistors, etc.) || No checks ||
|| Pwr || Power pin (power supply input) || A Sup pin set for this net ||
|| Sup || Power supply output for ground and supply symbols || ? ||

  # Add pin names    
  # Use WIRE on the Symbols layer to draw circuit symbol
  # Place '>NAME' label on Names using proportional font, 70 mil height, 10% width
  # Place '>VALUE' label on Values using proportional font, 70 mil height, 10% width

== Device ==

  # Create new device (same as device/part name)
  # Add symbol
  # Make sure Addlevel=Next and a Swaplevel=0 (unless...)
  # Select package and SPECIFY VARIANT NAME (will become part name suffix). 
  # OPTIONAL: you can specify technologies (per variants). These will become part of the part number (no other effect)
  # Connect pins and pads
  # Specify prefix (U for ICs, R, C, L, B (beads), D (diodes), X (quartz), J (connectors), JP (jumpers), TP (test points))
  # Value
   * editable: ON (resistors, capacitors, inductors) or 
   * non-editable: OFF(part name + tech name will be the value)
  # Add descritpion:
{{{
<b>DEVICE NAME</b>
<p>
Textual description
<p>
Source: url
}}}

= Schematic =

TBD

= Layout =

== Silk screen ==
|| small labels (refdes) || vector, 40mil, 8% ||
|| large labels (conns) ||  vector, 70 mil, 10% ||
|| very large labels || inverse text with bold fonts and capitals (looks nice) ||

== Layers ==

[TBD]

== General PCB design notes ==

  * http://www.sparkfun.com/tutorials
  * http://www.sparkfun.com/tutorials/115
  * http://www.sparkfun.com/tutorial/Eagle-DFM/Eagle%20Rules.pdf
  * http://www.opencircuits.com/SFE_Footprint_Library_Eagle
  * http://www.alternatezone.com/electronics/files/PCBDesignTutorialRevA.pdf
  * http://www.youtube.com/watch?v=VXE_dh38HjU
  * Complete PCB design using OrCAD Capture and PCB editor / Kraig Mitzner (Ch1, Ch5, Ch6)