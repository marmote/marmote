#summary Requirement and design considerations for the SmartFusion-based Main Board
#labels Phase-Requirements

= Power Supply =

 * The FPGA should use the power rails from the Power Board
 * The FPGA may have a button-battery for RTC
 * Should assume 1.8 V on the reserved power rail and bypass it to the sensor board
 * The FPGA should optionally use its internal 1.5 V regulator (0 Ohm resistor or jumper)

= Clock Subsystem =

 * External clock synchronization Multiple nodes should be able to synchronize their FPGA clock(s) to each other
 * A TCVCXO should be available to provide clock for the FPGA
 * A ~50-100 MHz crystal oscillator should be available for the FPGA
 * RTC

= Programmer logic =

 * The FPGA and the uC should be programmable by the PowerBoard
 * The FPGA and the uC should be programmable directly via JTAG
 * The above two should not conflict (e.g. multiplexer should be used)
 * Consider relying on IAP through SPI (preferred) or Ethernet


= Reset Logic =

 * The PowerBoard should be able to reset the FPGA
 * The FPGA should have an external reset (e.g. push-button or jumper)

= Wake-up Logic =

 * The FPGA/uC should be able to weak up on an external signal (e.g. consider connecting it to a pin with analog comparator or Flash*Freeze-like functionality)

= Interfaces =

== Analog Front-End / Sensor Board ==

 * Should support 4 ADCs with at least 1 MSPS for sensor hookup
 * Should have a ADC with at least 4 MSPS (?) for RF RX
 * Should have a DAC with at least 4 MSPS for RF TX
 * The RF RX and sensor ADCs may be shared
 * The ADCs and DAC(s) should use differential analog signals
 * ADCs and DACs should have power down mode
 * ADCs and DACs should have adjustable clock rate (power consumption)
 * We might need to consider the UMich (Prabal) approach (high speed ADC/DAC to be used with integrated WiFi RF frontend)
 * Consider adding external DDC(s) and DUC(s)
  * Note: Adding a DDC might increase the response time of SmartFusion to the RF signals
  * Note: If a DDC is used, it has to be added to all four channels (AE)
  * Check on ADCs/DACs with integrated DDC and DUC
 * Use ADCs with some testing capabilities (e.g. test pattern mode)

Note: The maximum SmartFusion processable sampling rate should be determined prior to selecting the ADCs and DAC(s).

Candidate ICs:

*ADC*

 * [www.analog.com/static/imported-files/data_sheets/AD9288.pdf Analog Devices - AD9288] (Dual, 8-bit 40/80/100 MHz ADC, 3.3V)

*DAC*

 * [http://datasheets.maxim-ic.com/en/ds/MAX5186-MAX5189.pdf Maxim - MAX5186] (Dual, 8-bit, 40 MHz DAC, 3.3V)

= External memory =
 
*Volatile*
 * An external SRAM or DRAM (preferred) memory should be connected to the FPGA's high speed external memory interface
 * The memory should operate on the SmartFusion 1.5V (preferred) or 3.0V rail
 * The memory should provide a stand-by and quick wake-up mode
*Non-volatile (optional)*
 * An external FLASH memory may be connected to the SmartFusion
 * The memory should be >2 MB (8 MB preferred)
 * Simply adding footprint or leaving board-space may be sufficient for Rev A

= Connectors =

 * External clock sync connector
 * JTAG connector (Consider using the compact ISP programming header recommended by Actel: Samtec FTSH-105-01-L-D-K)
 * Mezzazine connectors
 * Low-profile RJ-45 connector (optional footprint might suffice)